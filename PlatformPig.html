<!DOCTYPE html>
<html>
<head>
    <meta name = "viewport" content = "user-scalable=no,width=device-width">
    <link href ="style.css" rel="stylesheet" type="text/css">
    <title>Platform Pig Game</title>
    <meta charset="UTF-8"/>

</head>
<body>

    <div id = "menu">
        <p>menu</p>
        <div id= "menu-list"><br>
            <a href="PlatformPig.html?01">part1</a>
            <a href="PlatformPig.html?02">part2</a>
            <a href="PlatformPig.html?03">part3</a>
            <a href="PlatformPig.html?04">part4</a>
            <a href="PlatformPig.html?05">part5</a>
            <a href="PlatformPig.html?06">part6</a>
            <a href="PlatformPig.html?07">part7</a>
        </div>
    </div>

    <canvas></canvas>
    <script type = 'text/javascript'>
    
    let sources= ["controller-","display-","game-","engine-","main-"];
    let part = String(window.location).split("?")[1];

        let parts = {

            "01":["01/controller-01.js", "01/display-01.js", "01/engine-01.js", "01/game-01.js", "01/main-01.js"],
            "02":["02/controller-02.js", "02/display-02.js", "02/engine-02.js", "02/game-02.js", "02/main-02.js"],
            "03":["03/controller-03.js", "03/display-03.js", "03/engine-03.js", "03/game-03.js", "03/main-03.js"],
            "04":["04/controller-04.js", "04/display-04.js", "04/engine-04.js", "04/game-04.js", "04/main-04.js"],
            "05":["05/controller-05.js", "05/display-05.js", "05/engine-05.js", "05/game-05.js", "05/main-05.js"],
            "06":["06/controller-06.js", "06/display-06.js", "06/engine-06.js", "06/game-06.js", "06/main-06.js"],
            "07":["07/controller-07.js", "07/display-07.js", "07/engine-07.js", "07/game-07.js", "07/main-07.js"]
        };

        switch(part){

            case "01" : case "02" : case "03" : case "04" : case "05" : case "06" : case "07" : break;
            default:
            part = "01";

        }
        for(let index=0;index<sources.length;index++){

            let script = document.createElement("script");
            script.setAttribute("type","text/javascript");
            script.setAttribute("src",String(part + "/" + sources[index] + part + ".js"));
            document.head.appendChild(script);

        }

        let menu = document.getElementById("menu");
        let menu_list = document.getElementById("menu-list");

        menu.addEventListener("click", function(event) {

            menu_list.style.display = (menu_list.style.display == "none") ? "grid" : "none";

        });

        menu_list.style.display = "none";
    
    
    </script>

</body>
</html>


<!-- 1. Example overview

2. Create JSON files

3. loading JSON files and using it
  a. initial load
  b. world.setup
  c. loading levels from update

4. trigger a level load by hitting a door
  a. hit door check in the update function
  b. setup loads the world and moves the player. -->